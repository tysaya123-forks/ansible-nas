"use strict";(self.webpackChunkansible_nas=self.webpackChunkansible_nas||[]).push([[1977],{7709:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var n=s(5893),r=s(1151);const i={title:"AWS Route53 Dynamic DNS Updater"},d=void 0,o={id:"applications/system-tools/route53_ddns",title:"AWS Route53 Dynamic DNS Updater",description:"ddns-route53//crazymax.dev/ddns-route53/",source:"@site/docs/applications/system-tools/route53_ddns.md",sourceDirName:"applications/system-tools",slug:"/applications/system-tools/route53_ddns",permalink:"/docs/applications/system-tools/route53_ddns",draft:!1,unlisted:!1,editUrl:"https://github.com/davestephens/ansible-nas/tree/main/website/docs/applications/system-tools/route53_ddns.md",tags:[],version:"current",frontMatter:{title:"AWS Route53 Dynamic DNS Updater"},sidebar:"tutorialSidebar",previous:{title:"Promtail",permalink:"/docs/applications/system-tools/promtail"},next:{title:"Syncthing",permalink:"/docs/applications/system-tools/syncthing"}},a={},c=[{value:"Usage",id:"usage",level:2},{value:"Specific Configuration",id:"specific-configuration",level:2},{value:"AWS Access Credentials",id:"aws-access-credentials",level:3},{value:"Networking",id:"networking",level:3},{value:"Application",id:"application",level:3}];function l(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["ddns-route53: ",(0,n.jsx)(t.a,{href:"https://crazymax.dev/ddns-route53/",children:"https://crazymax.dev/ddns-route53/"})]}),"\n",(0,n.jsxs)(t.p,{children:["AWS Route53: ",(0,n.jsx)(t.a,{href:"https://aws.amazon.com/route53/",children:"https://aws.amazon.com/route53/"})]}),"\n",(0,n.jsxs)(t.p,{children:["If you want your Ansible-NAS accessible externally then you need a domain name. You will also need to set a wildcard host ",(0,n.jsx)(t.code,{children:"A"})," record to point to your static IP, or enable this container to automatically update AWS Route53 with your dynamic IP address."]}),"\n",(0,n.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,n.jsxs)(t.p,{children:["Set ",(0,n.jsx)(t.code,{children:"route53_ddns_enabled: true"})," in your ",(0,n.jsx)(t.code,{children:"inventories/<your_inventory>/group_vars/nas.yml"})," file."]}),"\n",(0,n.jsx)(t.p,{children:"Set required AWS access credentials from the AWS Console. (See below.)"}),"\n",(0,n.jsx)(t.h2,{id:"specific-configuration",children:"Specific Configuration"}),"\n",(0,n.jsxs)(t.p,{children:["Make sure you set your domain (if different than the ",(0,n.jsx)(t.code,{children:"ansible-nas"})," default) and access details within your ",(0,n.jsx)(t.code,{children:"inventories/<your_inventory>/group_vars/nas.yml"})," file."]}),"\n",(0,n.jsxs)(t.p,{children:["To set up Route53 to work with the service, please review the ",(0,n.jsx)(t.a,{href:"https://crazymax.dev/ddns-route53/usage/prerequisites/",children:"Prerequisites"})," page. In short, you will need to set up a Route53 ",(0,n.jsx)(t.a,{href:"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-working-with.html",children:"Hosted Zone"}),", an ",(0,n.jsx)(t.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html",children:"IAM Policy"}),", and an ",(0,n.jsx)(t.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html",children:"IAM User"})," with API credentials."]}),"\n",(0,n.jsx)(t.h3,{id:"aws-access-credentials",children:"AWS Access Credentials"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Description"}),(0,n.jsx)(t.th,{children:"Status"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"route53_key_id"}),(0,n.jsx)(t.td,{children:"AWS access key ID"}),(0,n.jsx)(t.td,{children:"mandatory"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"route53_secret_key"}),(0,n.jsx)(t.td,{children:"AWS secret key"}),(0,n.jsx)(t.td,{children:"mandatory"})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"networking",children:"Networking"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Description"}),(0,n.jsx)(t.th,{children:"Status"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"route53_hosted_zone_id"}),(0,n.jsx)(t.td,{children:"Route53 hosted zone ID"}),(0,n.jsx)(t.td,{children:"mandatory"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"route53_ttl"}),(0,n.jsx)(t.td,{children:"Time-to-live for the DNS entry"}),(0,n.jsx)(t.td,{})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"route53_host"}),(0,n.jsx)(t.td,{children:"Wildcard domain to update"}),(0,n.jsx)(t.td,{})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"application",children:"Application"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Description"}),(0,n.jsx)(t.th,{children:"Status"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"route53_schedule"}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.a,{href:"https://pkg.go.dev/github.com/robfig/cron?utm_source=godoc#hdr-CRON_Expression_Format",children:"CRON"})," schedule for checking and updating DNS entry"]}),(0,n.jsx)(t.td,{})]})})]})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},1151:(e,t,s)=>{s.d(t,{Z:()=>o,a:()=>d});var n=s(7294);const r={},i=n.createContext(r);function d(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);